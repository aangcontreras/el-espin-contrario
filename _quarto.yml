project:
  type: website
  resources:
    - assets/

website:
  description: "Sitio web personal de Angel Contreras Espinosa"
  site-url: https://aangcontreras.github.io/el-espin-contrario/ # you must change this appropriately for RSS feeds to work properly
  title: "el esp√≠n contrario"
  navbar:
    right:
      - text: Publicaciones
        href: posts/index.qmd
      - text: Mini cursos
        href: courses/index.qmd
      - icon: github
        href: https://github.com/aangcontreras
      - icon: linkedin
        href: https://www.linkedin.com/in/aang-contreras/
  page-footer: "Gracias por leerme | Angel Contreras | 2026"
format:
  html:
    theme:
      - none
      # - cosmo
      # - brand
    css: styles.css
    # Incluir el JavaScript del toggle
    include-in-header:
      - text: |
          <script>
          // Aplicar tema inmediatamente
          (function() {
            var theme = localStorage.getItem('gruvbox-theme') || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
          })();
          </script>
    include-after-body:
      - text: |
          <script>
          // Theme toggle completo
          document.addEventListener('DOMContentLoaded', function() {
            var currentTheme = localStorage.getItem('gruvbox-theme') || 'dark';
            
            function applyTheme(theme) {
              document.documentElement.setAttribute('data-theme', theme);
              document.body.setAttribute('data-theme', theme);
              localStorage.setItem('gruvbox-theme', theme);
              currentTheme = theme;
              updateButton();
            }
            
            function updateButton() {
              var button = document.getElementById('theme-toggle');
              if (button) {
                button.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
                button.setAttribute('aria-label', currentTheme === 'dark' ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro');
              }
            }
            
            function toggleTheme() {
              var newTheme = currentTheme === 'dark' ? 'light' : 'dark';
              applyTheme(newTheme);
            }
            
            function createButton() {
              if (document.getElementById('theme-toggle')) {
                updateButton();
                return;
              }
              
              var button = document.createElement('button');
              button.id = 'theme-toggle';
              button.type = 'button';
              button.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
              button.setAttribute('aria-label', currentTheme === 'dark' ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro');
              button.onclick = toggleTheme;
              document.body.appendChild(button);
            }
            
            applyTheme(currentTheme);
            createButton();
          });
          </script>
    mainfont: "Inter, sans-serif"
    code-copy: true
    toc: true

execute:
  freeze: auto